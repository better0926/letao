<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="lib/mui/css/mui.css">
  <link rel="stylesheet" href="lib/fa/css/font-awesome.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/cart.css">
  <link rel="icon" href="favicon.ico">
  <title>乐淘首页</title>
</head>

<body>
  <div class="lt_container">
    <!-- 头部 -->
    <header>
      <a class="hd_left" href="javascript:history.go(-1);">
        <span class="mui-icon mui-icon-back"></span>
      </a>
      <div class="hd_title">乐淘云购</div>
      <a class="hd_right" href="search.html">
        <span class=""></span>
      </a>
    </header>

    <!-- 中间内容区域 -->
    <section class="lt_content">
      <!-- 滚动结构  上拉下拉效果 -->
      <div class="mui-scroll-wrapper">
        <div class="mui-scroll">
          <!-- 图文列表 -->
          <ul class="mui-table-view OA_task_2">
            <!-- 模板渲染数据 -->
          </ul>
        </div>
      </div>
    </section>

    <!-- 合计金额 -->
    <div class="lt_money">
      <div class="count_tlt mui-pull-left">
        <span> 订单总金额&nbsp;&yen;</span>
        <span class="count_momey">0.00</span>
      </div>
      <div class="count_right mui-pull-right">
        <a href="javascript:;">生成订单</a>
      </div>
    </div>
    <!-- 底部 -->
    <footer class="lt_foot">
      <a href="index.html" class="foot">
        <span class="fa fa-home"></span>
        <p class="foot_txt">首页</p>
      </a>
      <a href="category.html" class="foot">
        <span class="fa fa-bars"></span>
        <p class="foot_txt">分类</p>
      </a>
      <a href="cart.html" class="foot now">
        <span class="fa fa-shopping-cart"></span>
        <p class="foot_txt">购物车</p>
      </a>
      <a href="user.html" class="foot">
        <span class="fa fa-user"></span>
        <p class="foot_txt">会员中心</p>
      </a>
    </footer>
  </div>

  <!-- 准备模板 购物车-->
  <script type="text/html" id="cartTpl">
    {{ each rows v i}}
    <li class="mui-table-view-cell">
      <div class="mui-slider-right mui-disabled">
        <!-- 把修改时需要的参数全部通过自定义属性存在标签上 -->
        <a data-id="{{v.id}}" data-size="{{v.size}}" data-product-size={{v.productSize}} data-num="{{v.num}}" data-product-num={{v.productNum}}  class="mui-btn mui-btn-primary mui-icon mui-icon-compose btn_edit"></a>
        <a data-id="{{v.id}}" class="mui-btn mui-btn-danger mui-icon mui-icon-trash btn_delete"></a>
      </div>
      <div class="mui-slider-handle">
        <div class="mui-table-cell">
          <!-- 左侧图片展示 -->
          <div class="cart_left">
            <img src="{{ v.pic[0].picAddr }}" alt="">
          </div>
          <!-- 右侧详情展示 -->
          <div class="cart_right">
            <p class="proName mui-ellipsis-2">{{ v.proName }}</p>
            <div class="proPrice mui-clearfix">
              <div class="price_left  mui-pull-left">
                <span class="price">&yen;{{ v.price }}</span>
                <span class="oldPrice">&yen;{{ v.oldPrice }}</span>
              </div>
              <div class="price_right  mui-pull-right">
                <span class="num">{{ v.num }}双</span>
              </div>
            </div>
            <p class="size">尺码：{{ v.size }}</p>
          </div>
          <input type="checkbox" class="ckbox" data-num="{{ v.num }}" data-price="{{ v.price }}">
        </div>
      </div>
    </li>
    {{ /each}}
  </script>

  <!-- 购物车修改模态框 -->
  <script type="text/html" id="editTpl">
      <div class="proSize">
        <strong>尺码：</strong>
        <%
          var temp = productSize.split("-");
          for(var i = +temp[0]; i <= temp[1]; i++){
        %>
        <span class="{{i==size?'now':''}}">{{i}}</span>
        <%  } %>
      </div>
      <div class="proNum">
          <strong>数量：</strong>
          <!-- 数字输入框 -->
          <div class="mui-numbox" data-numbox-min='1' data-numbox-max='{{productNum}}'>
            <!-- "-"按钮，点击可减小当前数值 -->
            <button class="mui-btn mui-numbox-btn-minus" type="button">-</button>
            <input class="mui-numbox-input" type="number" value="{{num}}" />
            <!-- "+"按钮，点击可增大当前数值 -->
            <button class="mui-btn mui-numbox-btn-plus" type="button">+</button>
          </div>
          
        </div>
    </script>

  <script src="lib/zepto/zepto.min.js"></script>
  <script src="lib/mui/js/mui.js"></script>
  <script src="lib/artTemplate/template-web.js"></script>
  <script src="js/common.js"></script>
  <script src="js/cart.js"></script>
</body>

</html>